---
layout: default
---

<div class="page">
  <h1 class="page-title">{{ page.title }}</h1>
  {%- if page.image -%}
    <img src="{{- page.image | absolute_url -}}" alt="" class="featured-image-post">
  {%- endif -%}
{%- assign purl = page.tocpath | default: page.url %}

{%- assign urlparts = purl | split: "/" %}
{% if urlparts.size > 2 %}
{%   assign parenturl = urlparts | pop | join: "/" %}
{%   assign parenturl = parenturl | append: "/" %}
<p style="font-size:1.2em; font-weight:bold;"><a href="{{parenturl}}">&lt; Go back</a></p>
{% endif %}
{%- assign html = content | markdownify -%}
{%- assign blocks = html | split: "<h" -%}
{%- if blocks.size > 1 %}
<details><summary style="font-size:1.2em; font-weight:bold;">Table of contents</summary>
<div id="page_toc">
{%- assign prev_level = 0 -%}
{%- for block in blocks offset: 1 -%}
  {%- assign level = block | slice: 0,1 | plus: 0 -%}
  {%- assign id = block | split: 'id="' | last | split: '"' | first -%}
  {%- assign title = block | split: "</h" | first | split: ">" | last | strip -%}

{%- if forloop.first -%}
{%- assign prev_level = level -%}
<ul>
{%- elsif level > prev_level -%}
{%- assign diff = level | minus: prev_level -%}
{%- for i in (1..diff) -%}<ul>{%- endfor -%}
{%- elsif level < prev_level -%}
{%- assign diff = prev_level | minus: level -%}
{%- for i in (1..diff) -%}</li></ul>{%- endfor -%}
</li>
{%- else -%}
</li>
{%- endif -%}
<li><a href="{{ page.url }}#{{ id }}">{{ title }}</a>
{%- assign prev_level = level -%}
{%- if forloop.last -%}
{%- assign diff = level | minus: blocks.size | plus: blocks.size -%}
</li>
{%- for i in (1..prev_level) -%}</ul>{%- endfor -%}
{%- endif -%}
{%- endfor -%}
</div>
</details>
<br>
{%- endif -%}
  {{ content }}
</div>
 
 