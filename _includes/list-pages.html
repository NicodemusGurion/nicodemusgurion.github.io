<ul>
{% assign prefixlength = page.url | size %}
Prefix length {{ prefixlength }}<br>
{% for p in site.pages %}
{% assign path = p.url %}
{% if p.tocpath %}{% assign path = p.tocpath %}{% endif %}
{%   assign prefix = path | slice: 0, prefixlength %}
Processing page url {{ path }}<br>
Prefix {{prefix}}<br>

Index Page URLs {{page.url}}<br>
{%   if page.url == prefix and path != page.url %}
<li>
{%     assign link = '<a href="'
       | append: p.url 
       | append: '">'
       | append: p.title 
       | append: "</a>" %}
{%     include page-toc.html url=p.url text=link %}
</li>
{%   endif %}
{% endfor %}
</ul>