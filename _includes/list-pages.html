<ul>
{% for p in site.pages %}
{%   assign path = p.tocpath | default: p.url %}
{%   assign prefix = path | slice: 0, page.url.size %}
{%   if prefix == page.url and path.size > page.url.size %}
<li>
{%     assign link = '<a href="'
       | append: p.url 
       | append: '">'
       | append: p.title 
       | append: "</a>" %}
{%     include "page-toc.html" url=p.url text=link %}
</li>
{%   endif %}
{% endfor %}
</ul>